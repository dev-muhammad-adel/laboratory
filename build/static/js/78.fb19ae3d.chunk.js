(this.webpackJsonpbetalab=this.webpackJsonpbetalab||[]).push([[78],{465:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),o=a.n(n),c=(a(466),function(e){return e.map((function(e){return{title:(null===e||void 0===e?void 0:e.title)?e.title.translate():(null===e||void 0===e?void 0:e.key)?e.key.translate():e.translate(),dataIndex:(null===e||void 0===e?void 0:e.key)?e.key:e,key:(null===e||void 0===e?void 0:e.key)?e.key:e,align:e.align?e.align:"left",render:(null===e||void 0===e?void 0:e.content)?function(t,a){return o.a.createElement("div",{className:"text-overflow"},e.content(t,a))}:function(e){return o.a.createElement("div",{className:"text-overflow"},e)}}}))})},466:function(e,t,a){},474:function(e,t,a){},475:function(e,t,a){"use strict";var n,o=a(48),c=(a(467),a(468)),l=(a(488),a(485)),i=(a(489),a(490)),r=a(460),d=a(19),u=a(1),s=(a(498),a(499)),m=(a(482),a(481)),p=a(90),v=(a(470),a(469)),b=(a(493),a(494)),f=a(0),h=a.n(f),O=a(150),g=a(18),j=(a(503),a(502)),E=(a(474),a(464)),y=["styles","columns","dataSource","loading","pagination","footerContent"],x=function(e){e.styles;var t=e.columns,a=e.dataSource,n=e.loading,o=e.pagination,c=e.footerContent,l=Object(p.a)(e,y);Object(g.g)();return h.a.createElement(j.a,Object.assign({style:{width:"100%"},footer:function(){return h.a.createElement("div",{style:{display:"flex"}},"".concat((null===c||void 0===c?void 0:c[0])?c[0]:0," "),c[1])},dataSource:a,columns:t,pagination:o,loading:{indicator:h.a.createElement(E.a,null),spinning:n}},l))},w=a(921),R=a(910),k=a(589),S=a(638),C=a(702),T=a(152),N=a(476),F=a.n(N),L=a(42),q=a(89),A=a(62).c.div(n||(n=Object(q.a)(["\n  padding: 40px 20px;\n  display: flex;\n  flex-flow: row wrap;\n  overflow: hidden;\n\n  @media only screen and (max-width: 767px) {\n    padding: 50px 20px;\n  }\n\n  @media (max-width: 580px) {\n    padding: 15px;\n  }\n"]))),D=function(e){return h.a.createElement(A,Object.assign({className:null!=e.className?"".concat(e.className," isoLayoutContentWrapper"):"isoLayoutContentWrapper"},e),e.children)},U=a(495),Y=["fetcher","indexRequest","Breadcrumb","addRowURL","editRowURL","showRowURL","deleteRow","generalCols","options","filters","action","attachOtherContent","attachExport"],z=b.a.RangePicker,B=v.a.Option,V={};t.a=function(e){var t=e.fetcher,a=e.indexRequest,n=e.Breadcrumb,b=e.addRowURL,j=e.editRowURL,E=e.showRowURL,y=e.deleteRow,N=e.generalCols,q=e.options,A=e.filters,I=e.action,M=e.attachOtherContent,P=e.attachExport,W=Object(p.a)(e,Y),_={title:"numbers".translate(),dataIndex:"id",key:"id",width:"60px",render:function(e,t,a){return h.a.createElement("a",{href:""}," ",a+1+xe," ")}},J=Object(U.a)(),K=J.width,$=(J.height,[{title:"Actions",dataIndex:"id",key:"id",render:function(e,t,a){return h.a.createElement("div",{style:{color:"#646D82",cursor:"pointer"},className:"d-flex"},j&&h.a.createElement(T.b,{to:"".concat(j).concat(t.id)},h.a.createElement(m.a,{shape:"circle",style:{margin:" 2px"}},h.a.createElement(w.a,null))),E&&h.a.createElement(T.b,{to:"".concat(E).concat(e)},h.a.createElement(m.a,{shape:"circle",style:{margin:" 2px"}},h.a.createElement(R.a,null))),(null===y||void 0===y?void 0:y.status)?h.a.createElement(s.a,{placement:"top",title:"You Want to Delete this ?",okText:"Delete",onConfirm:function(){return y.deleteRecord(t)},cancelText:"cancel"},h.a.createElement(m.a,{shape:"circle",style:{margin:" 2px"}},h.a.createElement(k.a,{style:{color:"mediumvioletred"}}))):"")}}]);function Z(e){var t=e.uniq;X((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(d.a)({},t,!Q[t]))}))}var G=Object(f.useState)({}),H=Object(r.a)(G,2),Q=H[0],X=H[1],ee=Object(f.useState)(A),te=Object(r.a)(ee,2),ae=te[0],ne=te[1],oe=function(e){var t=e.placeholder,a=e.key;return h.a.createElement(c.a,{style:{width:200},placeholder:"ar"==De?t[0]:t[1],onChange:function(e){var t;(null===(t=e.target)||void 0===t?void 0:t.value)?qe((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(d.a)({},a,e.target.value))})):delete Le[a]&&qe((function(e){return Object(u.a)({},e)})),we(0),Ce.current=1}})},ce=function(e){var t=e.placeholder,a=e.key;return h.a.createElement(z,{style:{width:230},placeholder:"ar"==De?null===t||void 0===t?void 0:t.ar:null===t||void 0===t?void 0:t.en,onChange:function(e){if(e){var t=F()(e[0]).format("YYYY-MM-DD"),n=F()(e[1]).format("YYYY-MM-DD");qe((function(e){var o;return Object(u.a)(Object(u.a)({},e),{},(o={},Object(d.a)(o,null===a||void 0===a?void 0:a[0],t),Object(d.a)(o,null===a||void 0===a?void 0:a[1],n),o))})),we(0),Ce.current=1}else delete Le[a[0]],delete Le[a[1]],qe((function(e){return Object(u.a)({},e)})),we(0),Ce.current=1}})},le=function(e,t){var a,n,o=e.placeholder,c=e.key,l=e.data,i=e.multiple;return h.a.createElement(v.a,{mode:i,style:{width:200},showSearch:!0,value:i?void 0:Le[c],onChange:function(e){e?qe((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(d.a)({},c,e))})):(delete Le[c],qe((function(e){return Object(u.a)({},e)}))),we(0),Ce.current=1},placeholder:"ar"==De?o[0]:o[1],optionFilterProp:"children"},null===(a=ae[t].data)||void 0===a||null===(n=a.options)||void 0===n?void 0:n.map((function(e){return h.a.createElement(B,{value:e.id},e[null===l||void 0===l?void 0:l.optionName])})))},ie=function(){return ue&&A.map((function(e,t){return h.a.createElement(h.a.Fragment,null,h.a.createElement(h.a.Fragment,null,"search"==e.type&&function(e){return h.a.createElement(h.a.Fragment,null,h.a.createElement(l.a,{title:"ar"==De?null===e||void 0===e?void 0:e.placeholder[0]:null===e||void 0===e?void 0:e.placeholder[1],color:"#6be3de",placement:"bottom"},h.a.createElement(i.a,{content:oe(e),trigger:"click",visible:Q[e.uniq],onVisibleChange:function(){return Z(e)},placement:"topLeft"},h.a.createElement(m.a,{className:"closed-input",shape:"circle"},e.icon))))}(e)),h.a.createElement(h.a.Fragment,null,"dateFromTo"==e.type&&function(e){return h.a.createElement(h.a.Fragment,null,h.a.createElement(l.a,{title:"ar"==De?null===e||void 0===e?void 0:e.placeholder[0]:null===e||void 0===e?void 0:e.placeholder[1],color:"#6be3de",placement:"bottom"},h.a.createElement(i.a,{content:ce(e),trigger:"click",visible:Q[e.uniq],onVisibleChange:function(){return Z(e)},placement:"topLeft"},h.a.createElement(m.a,{className:"closed-input",shape:"circle"},h.a.createElement("span",{role:"img","aria-label":"plus",class:"anticon anticon-plus"},e.icon)))))}(e)),h.a.createElement(h.a.Fragment,null,"select"==e.type&&function(e,t){return h.a.createElement(h.a.Fragment,null,h.a.createElement(l.a,{title:"ar"==De?null===e||void 0===e?void 0:e.placeholder[0]:null===e||void 0===e?void 0:e.placeholder[1],color:"#6be3de",placement:"bottom"},h.a.createElement(i.a,{content:le(e,t),trigger:"click",visible:Q[e.uniq],onVisibleChange:function(){return Z(e)},placement:"topLeft"},h.a.createElement(m.a,{className:"closed-input",shape:"circle"},h.a.createElement("span",{role:"img","aria-label":"plus",class:"anticon anticon-plus"},e.icon)))))}(e,t)))}))},re=Object(f.useState)(!1),de=Object(r.a)(re,2),ue=de[0],se=de[1];Object(f.useEffect)((function(){A&&A.forEach((function(e,t){var a,n;(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.isOnline)&&function(e,t,a){var n=e.url,c=e.params;O.b.get(n,{headers:{Authorization:"Bearer ".concat(Ae)},params:c}).then((function(e){A[t].data.options=[].concat(Object(o.a)(A[t].data.options),Object(o.a)(e.data.data)),ne(A),a&&se(a)})).catch((function(e){}))}(e.data,t,t+1==A.length),!(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.isOnline)&&t+1==A.length&&se(!0)}))}),[K]);var me=Object(f.useState)([]),pe=Object(r.a)(me,2),ve=pe[0],be=pe[1],fe=Object(f.useState)(!1),he=Object(r.a)(fe,2),Oe=he[0],ge=he[1],je=Object(g.g)(),Ee=Object(f.useState)(0),ye=Object(r.a)(Ee,2),xe=ye[0],we=ye[1],Re=Object(L.b)(),ke=Object(f.useState)({}),Se=Object(r.a)(ke,2),Ce=Se[0],Te=Se[1],Ne=Object(f.useState)(V),Fe=Object(r.a)(Ne,2),Le=Fe[0],qe=Fe[1];Object(f.useEffect)((function(){A.forEach((function(e){var t,a,n;V[e.key]=(null===(t=e.data)||void 0===t?void 0:t.defaultSelectValue)||0==(null===(a=e.data)||void 0===a?void 0:a.defaultSelectValue)?null===(n=e.data)||void 0===n?void 0:n.defaultSelectValue:null}))}),[]);var Ae=Object(L.c)((function(e){return e.Auth.idToken})),De=localStorage.getItem("lang");Object(f.useEffect)((function(){Re(n),function(e,t){var a=t.method,n=t.params,o=Object(u.a)(Object(u.a)({skip:xe},n),Le);ge(!0),O.b[a](e,{headers:{Authorization:"Bearer ".concat(Ae)},params:o}).then((function(t){"withdraws"===e&&(t.data.data=t.data.data.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{key:e.id})}))),be(t.data),Ce.pageSize=10,Te({total:t.data.count,pageSize:10}),ge(!1)})).catch((function(e){ge(!1)}))}(null===a||void 0===a?void 0:a[1],null===a||void 0===a?void 0:a[0])}),[Le,xe,t]);var Ue=function(e){var t=Object(u.a)({},e);t.current=e.current,Te(t),we(10*(t.current-1))},Ye=Object(f.useState)([N[0]]),ze=Object(r.a)(Ye,2),Be=(ze[0],ze[1]),Ve=([].concat(Object(o.a)(N),Object(o.a)(q)),Object(f.useState)(0)),Ie=Object(r.a)(Ve,2),Me=Ie[0];Ie[1];return Object(f.useEffect)((function(){Be([N[Me]])}),[Me]),ve&&Ce&&h.a.createElement(D,null,P&&h.a.createElement(m.a,{style:{margin:10},type:"primary",icon:h.a.createElement(C.a,null),onClick:function(){var e=Object(u.a)(Object(u.a)(Object(u.a)({},null===a||void 0===a?void 0:a[0].params),Le),{},{token:"".concat(Ae)});Object.entries(e).map((function(t){var a=Object(r.a)(t,2),n=a[0];a[1]||delete e[n]}));var t=new URLSearchParams(e);window.open("".concat(O.a,"/").concat(null===a||void 0===a?void 0:a[1],"/export").concat(t.toString()&&"?").concat(t.toString()),"_blank").focus()}},"Export"),M,0==I?h.a.createElement(h.a.Fragment,null,h.a.createElement(x,Object.assign({title:function(){return h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{style:{margin:"10px",display:"flex",justifyContent:"space-between"}},h.a.createElement("div",null,b&&h.a.createElement(l.a,{title:"ar"==De?"\u0627\u0636\u0627\u0641\u0629":"Add",color:"#6be3de",placement:"bottom"},h.a.createElement(m.a,{onClick:function(){return je.push(b)},shape:"circle",type:"primary",style:{margin:" 2px"}},h.a.createElement(S.a,null))),ie())))},footerContent:[ve.count,null===a||void 0===a?void 0:a[1].translate()],pagination:Object(u.a)(Object(u.a)({},Ce),{},{position:["bottomCenter"]}),loading:Oe,showSizeChanger:!1,columns:[_].concat(Object(o.a)(N),Object(o.a)(q)),onChange:Ue,dataSource:ve.data,scroll:{x:900}},W))):h.a.createElement(h.a.Fragment,null,h.a.createElement(x,{add:b,title:function(){return h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{style:{margin:"10px",display:"flex",justifyContent:"space-between"}},h.a.createElement("div",null,b&&h.a.createElement(l.a,{title:"ar"==De?"\u0627\u0636\u0627\u0641\u0629":"Add",color:"#6be3de",placement:"bottom"},h.a.createElement(m.a,{onClick:function(){return je.push(b)},shape:"circle",type:"primary",style:{margin:" 2px"}},h.a.createElement(S.a,null))),ie())))},footerContent:[ve.count,null===a||void 0===a?void 0:a[1].translate()],pagination:Object(u.a)(Object(u.a)({},Ce),{},{position:["bottomCenter"]}),loading:Oe,showSizeChanger:!1,columns:[_].concat(Object(o.a)(N),Object(o.a)(q),$),onChange:Ue,dataSource:ve.data,scroll:{x:900}})))}},628:function(e,t,a){"use strict";var n,o,c,l,i,r=a(463),d=a(151),u={index:"RetentionTimes",add:"RetentionTimesNew",edit:"RetentionTimesEdit",show:"RetentionTimesShow"},s={api:{index:[{method:"get",params:{}},"RetentionTimes"],add:[{method:"post",params:{}},"RetentionTimes"],edit:[{method:"put",params:{}},"RetentionTimes/"],show:[{method:"get",params:{}},"RetentionTimes/"],delete:[{method:"delete",params:{}},"RetentionTimes/"]},routes:{index:"".concat(d.b,"/").concat(null===(n=r.b[u.index])||void 0===n?void 0:n.path),indexTitle:u.index.replace(/([a-z])([A-Z])/g,"$1 $2"),indexKey:"home",add:"".concat(d.b,"/").concat(null===(o=r.b[u.add])||void 0===o?void 0:o.path),edit:"".concat(d.b,"/").concat(null===(c=r.b[u.edit])||void 0===c?void 0:c.path.slice(0,r.b[u.edit].path.length-3)),show:"".concat(d.b,"/").concat(null===(l=r.b[u.show])||void 0===l?void 0:l.path.slice(0,(null===(i=r.b[u.show])||void 0===i?void 0:i.path.length)-3))},titles:{add:"Create",edit:"global.edit",show:"Details"},permissionName:"RetentionTimes"};t.a=s},888:function(e,t,a){"use strict";a.r(t);var n=a(460),o=a(0),c=a.n(o),l=a(150),i=a(475),r=a(42),d=a(465),u=a(587),s=a(628),m=a(118),p=a(491);t.default=function(){var e=Object(o.useState)(0),t=Object(n.a)(e,2),a=t[0],v=t[1],b=Object(r.c)((function(e){return e.Auth.idToken})),f=[{uniq:"q",type:"search",icon:c.a.createElement(u.a,null),placeholder:["\u0628\u062d\u062b","Search ..."],key:"q",online:{status:!0,url:"url",params:""},hide:{onValue:"new",hiddenFilters:["city_id","fromTO"]}}];return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,{fetcher:a,indexRequest:s.a.api.index,Breadcrumb:{type:"SET",payload:[{key:s.a.routes.indexKey,to:s.a.routes.index,title:s.a.routes.indexTitle}]},addRowURL:!!Object(p.a)(s.a.permissionName,"create")&&s.a.routes.add,filters:f,editRowURL:!!Object(p.a)(s.a.permissionName,"update")&&s.a.routes.edit,deleteRow:{status:Object(p.a)(s.a.permissionName,"delete"),deleteRecord:function(e){var t,a,n,o=e.id;m.b.promise(l.b[null===(t=s.a.api.delete)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.method]("".concat(null===(n=s.a.api.delete)||void 0===n?void 0:n[1]).concat(o),{headers:{Authorization:"Bearer ".concat(b)}}),{pending:"Pending",success:{render:function(e){return v((function(e){return!e})),console.log(e.data),"\ud83d\udc4c ".concat(e.data.data.message)},icon:"\ud83d\udfe2"},error:{render:function(e){var t,a,n;return"\ud83e\udd2f ".concat((null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)||"Backend Error Occured")}}})}},action:Object(p.a)(s.a.permissionName,"delete")||Object(p.a)(s.a.permissionName,"update")||!1,generalCols:Object(d.a)([{key:"key",content:function(e){return e.replaceAll("_"," ")}},{key:"value",content:function(e){return e+" Days"}}]),options:[]}))}}}]);
//# sourceMappingURL=78.fb19ae3d.chunk.js.map