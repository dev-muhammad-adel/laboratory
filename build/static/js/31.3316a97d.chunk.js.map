{"version":3,"sources":["components/new/CardWraper/index.jsx","components/new/PageWraper/index.jsx","containers/roles/config.js","containers/roles/add.jsx"],"names":["CardWraper","Styled","div","PageWraper","styled","pages","index","add","edit","show","config","api","method","params","delete","routes","privateSub","path","indexTitle","replace","indexKey","slice","length","titles","cancleButton","Option","background","color","padding","border","marginLeft","NewCountry","props","useState","isSubmiting","setSubmiting","history","useHistory","cat","setCat","loading","setLoading","useParams","dispatch","useDispatch","targetKeys","setTargetKeys","mockData","setMockData","useEffect","type","payload","key","to","title","id","enstance","get","headers","then","res","data","map","e","localStorage","getItem","permissions","useForm","form","className","span","style","marginTop","layout","name","onFinish","values","console","log","permission","toast","promise","pending","success","render","push","message","icon","error","err","response","initialValues","scrollToFirstError","Item","label","translate","rules","required","whitespace","dataSource","oneWay","showSearch","listStyle","width","height","onChange","item","display","textAlign","styles","handleClick"],"mappings":"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","file":"static/js/31.3316a97d.chunk.js","sourcesContent":["import Styled from \"styled-components\";\n\nconst CardWraper = Styled.div`\n    width: 100%;\n    box-shadow: 0px 2px 6px #0000000A;\n    border-radius: 13px;\n    background: #FFFFFF 0% 0% no-repeat padding-box; \n    padding : 1rem 2rem;\n    height: 100%;\n \n    overflow: hidden ;\n`;\nexport default CardWraper;\n","import styled from \"styled-components\";\n\nconst PageWraper = styled.div`\n  padding: 1rem;\n`;\n\nexport default PageWraper;\n","import { routes } from \"../Dashboard/DashboardRoutes\";\nimport { privateSub } from \"../../router\";\n\nconst pages = {\n  index: \"roles\",\n  add: \"rolesNew\",\n  edit: \"rolesEdit\",\n  show: \"rolesShow\",\n};\nconst config = {\n  api: {\n    index: [{ method: \"get\", params: {} }, \"roles\"],\n    add: [{ method: \"post\", params: {} }, \"roles\"],\n    edit: [{ method: \"put\", params: {} }, \"roles/\"],\n    show: [{ method: \"get\", params: {} }, \"roles/\"],\n    delete: [{ method: \"delete\", params: {} }, \"roles/\"],\n  },\n  routes: {\n    index: `${privateSub}/${routes[pages.index]?.path}`,\n    indexTitle: pages.index.replace(/([a-z])([A-Z])/g, \"$1 $2\"),\n    indexKey: \"home\",\n    add: `${privateSub}/${routes[pages.add]?.path}`,\n    edit: `${privateSub}/${routes[pages.edit]?.path.slice(\n      0,\n      routes[pages.edit].path.length - 3\n    )}`,\n    show: `${privateSub}/${routes[pages.show]?.path.slice(\n      0,\n      routes[pages.show]?.path.length - 3\n    )}`,\n  },\n  titles: {\n    add: \"Create\",\n    edit: \"global.edit\",\n    show: \"Details\",\n  },\n};\nexport default config;\n","import React, { useState, useEffect } from \"react\";\nimport \"@ant-design/compatible/assets/index.css\";\nimport { Select, Row, Input, Col, Form } from \"antd\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport CardWraper from \"../../components/new/CardWraper\";\nimport PageWraper from \"../../components/new/PageWraper\";\nimport CustomButton from \"../../components/new/CustomButton\";\nimport Loader from \"../../components/new/loader\";\nimport enstance from \"../../library/helpers/axios\";\nimport { useDispatch } from \"react-redux\";\nimport IntlMessages from \"@iso/components/utility/intlMessages\";\nimport { Transfer, Button } from 'antd';\nimport config from \"./config\";\nimport { toast } from \"react-toastify\";\nconst { Option } = Select;\n\nconst NewCountry = (props) => {\n  const [isSubmiting, setSubmiting] = useState(false);\n  const history = useHistory();\n  const [cat, setCat] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  const params = useParams();\n  const dispatch = useDispatch();\n  const [targetKeys , setTargetKeys] = useState([])\n  const [mockData , setMockData] = useState([])\n  useEffect(() => {\n    dispatch({\n      type: \"SET\",\n      payload: [\n        {\n          key: config.routes.indexKey,\n          to: config.routes.index,\n          title: config.routes.indexTitle,\n        },\n        {\n          key: params.id ? config.titles.edit : config.titles.add,\n          to: params.id ? `${config.routes.edit}${params.id}` : config.routes.add,\n          title: params.id ? config.titles.edit : config.titles.add,\n        },\n      ],\n    });\n    enstance\n      .get(`permissions`, {\n        headers: {},\n      })\n      .then((res) => {\n        setMockData(res.data.data.map(e=>({...e,key:e.id})));\n      });\n  }, []);\n  const getLang = localStorage.getItem(\"lang\");\n  useEffect(() => {\n    if (params.id) {\n      setLoading(true);\n      enstance[config?.api?.show?.[0]?.method](\n        `${config?.api?.show?.[1]}${params.id}`,\n        {\n          headers: {},\n        }\n      ).then((res) => {\n        setCat(res.data.data);\n        setTargetKeys(res.data.data.permissions.map(e=>e.id))\n        setLoading(false);\n\n      });\n    }\n  }, []);\n\n\n  const [form] = Form.useForm();\n\n  const onFinish = (values) => {\n    console.log(\"Received values of form: \", values);\n    \n    values.permission=targetKeys\n    setSubmiting(true);\n    toast.promise(\n      enstance[\n        cat ? config?.api?.edit?.[0]?.method : config?.api?.add?.[0]?.method\n      ](\n        cat ? `${config?.api?.edit?.[1]}${params?.id}` : config?.api?.add?.[1],\n        values,\n        {\n          headers: {},\n        }\n      ),\n      {\n        pending: \"Pending\",\n        success: {\n          render(res) {\n            setSubmiting(false);\n            history.push(config.routes.index);\n            return `ðŸ‘Œ ${res.data.data.message}`;\n          },\n          // other options\n          icon: \"ðŸŸ¢\",\n        },\n        error: {\n          render(err) {\n            setSubmiting(false);\n            return `ðŸ¤¯ ${\n              err?.data?.response?.data?.message || \"Backend Error Occured\"\n            }`;\n          },\n          // other options\n          //    icon: \"ðŸŸ¢\",\n        },\n      }\n    );\n  };\n// {console.log(Object.entries(cat).map(([key,value])=>[key,value]))}\n\n\nconst handleChange = (targetKeys) => {\n   setTargetKeys(targetKeys)\n   console.log(targetKeys)\n};\n\n  return (\n <PageWraper>\n      <div className=\"new_user_container\">\n        <Row>\n          <Col span={24} style={{ marginTop: \"1rem\" }}>\n            <CardWraper>\n              {loading ? (\n                <Loader />\n              ) : (\n                <Row>\n                  <Col span={24}>\n                    <Form\n                      form={form}\n                      layout=\"vertical\"\n                      name=\"register\"\n                      onFinish={onFinish}\n                      initialValues={cat && cat }\n                      scrollToFirstError\n                    >\n                      <Form.Item\n                        name=\"name\"\n                        label={\"name\".translate()}\n                        rules={[\n                          {\n                            required: true,\n                            message: \"Please input your name!\",\n                            whitespace: true,\n                          },\n                        ]}\n                      >\n                        <Input />\n                      </Form.Item>\n                      \n                      <Form.Item\n                        name=\"permission\"\n                        label={\"permissions\".translate()}\n                        rules={[\n                          {\n                            required: targetKeys.length>0?false:true,\n                            message: \"Please input your permissions!\",\n                           \n                          },\n                        ]}\n                      >\n                            <Transfer\n        dataSource={mockData}\n        oneWay={true}\n        showSearch\n        listStyle={{width:\"100%\",height:400}}\n        targetKeys={targetKeys&&targetKeys}\n        onChange={handleChange}\n        render={item =><div>{ ` - ${item.name.replace('-',\" \")}`}</div>}\n      />\n        </Form.Item>\n                      {/* <Form.Item\n                        name=\"title_en\"\n                        label={\"title_en\".translate()}\n                        rules={[\n                          {\n                            required: true,\n                            message: \"Please input your title en!\",\n                            whitespace: true,\n                          },\n                        ]}\n                      >\n                        <Input />\n                      </Form.Item>\n                      <Form.Item\n                        name=\"title_ar\"\n                        label={\"title_ar\".translate()}\n                        rules={[\n                          {\n                            required: true,\n                            message: \"Please input your title ar!\",\n                            whitespace: true,\n                          },\n                        ]}\n                      >\n                        <Input />\n                      </Form.Item>\n\n                      <Form.Item\n                        name=\"description_en\"\n                        label={\"description_en\".translate()}\n                        rules={[\n                          {\n                            required: true,\n                            message: \"Please input your description en!\",\n                            whitespace: true,\n                          },\n                        ]}\n                      >\n                        <Input />\n                      </Form.Item>\n                      <Form.Item\n                        name=\"description_ar\"\n                        label={\"description_ar\".translate()}\n                        rules={[\n                          {\n                            required: true,\n                            message: \"Please input your description ar!\",\n                            whitespace: true,\n                          },\n                        ]}\n                      >\n                        <Input />\n                      </Form.Item> */}\n\n                      <Form.Item>\n                        <div\n                          style={{\n                            display: \"block\",\n                            marginTop: \"1.2rem\",\n                            textAlign: \"center\",\n                          }}\n                        >\n                          <CustomButton\n                            styles={{ padding: \".7rem 4rem\" }}\n                            type=\"submit\"\n                          >\n                            {isSubmiting && <Loader />}\n                            <span>\n                              {\" \"}\n                              {params.id ? (\n                                <IntlMessages id=\"global.submit\" />\n                              ) : (\n                                <IntlMessages id=\"global.submit\" />\n                              )}{\" \"}\n                            </span>\n                          </CustomButton>\n                          <CustomButton\n                            type=\"button\"\n                            handleClick={() => {\n                              history.push(config.routes.index);\n                            }}\n                            styles={cancleButton}\n                          >\n                            <IntlMessages id=\"global.cancel\" />\n                          </CustomButton>\n                        </div>\n                      </Form.Item>\n                    </Form>\n                  </Col>\n                </Row>\n              )}\n            </CardWraper>\n          </Col>\n        </Row>\n      </div>\n    </PageWraper>\n  );\n};\n\nconst inputStyle = {\n  width: \"100%\",\n  border: \"1px solid #02a79f \",\n  borderRadius: \"0.4rem\",\n};\n\nconst cancleButton = {\n  background: \"white\",\n  color: \"#02a79f \",\n  padding: \".7rem 3rem\",\n  border: \"1px solid #02a79f \",\n  marginLeft: \"1rem\",\n};\n\nexport default NewCountry;\n"],"sourceRoot":""}