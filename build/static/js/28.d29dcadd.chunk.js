(this.webpackJsonpisomorphic=this.webpackJsonpisomorphic||[]).push([[28],{1471:function(e,a,t){"use strict";t.r(a);t(660);var n=t(662),i=(t(661),t(663)),o=(t(1306),t(1411)),l=(t(681),t(686)),d=(t(727),t(732)),r=t(1),c=t(206),s=(t(657),t(656)),u=t(0),m=t.n(u),p=(t(682),t(19)),v=t(650),h=t(651),b=t(665),g=t(653),f=t(207),E=t(42),O=t(210),j=t(763),w=t(161),x=(s.a.Option,{background:"white",color:"#02a79f ",padding:".7rem 3rem",border:"1px solid #02a79f ",marginLeft:"1rem"});a.default=function(e){var a=Object(u.useState)(!1),t=Object(c.a)(a,2),s=t[0],y=t[1],S=Object(p.g)(),k=Object(u.useState)(null),F=Object(c.a)(k,2),T=F[0],I=F[1],A=Object(u.useState)(!1),C=Object(c.a)(A,2),K=C[0],P=C[1],_=Object(p.h)(),q=Object(E.b)(),J=Object(u.useState)([]),N=Object(c.a)(J,2),$=N[0],z=N[1],B=Object(u.useState)([]),D=Object(c.a)(B,2),L=D[0],R=D[1];Object(u.useEffect)((function(){f.b.get("permissions",{headers:{}}).then((function(e){R(e.data.data.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{key:e.id})})))}))}),[]);localStorage.getItem("lang");Object(u.useEffect)((function(){var e,a,t,n,i;_.id&&(P(!0),f.b[null===j.a||void 0===j.a||null===(e=j.a.api)||void 0===e||null===(a=e.show)||void 0===a||null===(t=a[0])||void 0===t?void 0:t.method]("".concat(null===j.a||void 0===j.a||null===(n=j.a.api)||void 0===n||null===(i=n.show)||void 0===i?void 0:i[1]).concat(_.id),{headers:{}}).then((function(e){I(e.data.data),z(e.data.data.permissions.map((function(e){return e.id}))),P(!1)})))}),[]),q({type:"SET",payload:[{key:j.a.routes.indexKey,to:j.a.routes.index,title:j.a.routes.indexTitle},{key:_.id?j.a.titles.edit:j.a.titles.add,to:_.id?"".concat(j.a.routes.edit).concat(_.id):j.a.routes.add,title:_.id?j.a.titles.edit:j.a.titles.add}]});var V=d.a.useForm(),W=Object(c.a)(V,1)[0];return m.a.createElement(h.a,null,m.a.createElement("div",{className:"new_user_container"},m.a.createElement(n.a,null,m.a.createElement(i.a,{span:24,style:{marginTop:"1rem"}},m.a.createElement(v.a,null,K?m.a.createElement(g.a,null):m.a.createElement(n.a,null,m.a.createElement(i.a,{span:24},m.a.createElement(d.a,{form:W,layout:"vertical",name:"register",onFinish:function(e){var a,t,n,i,o,l,d,r,c,s;console.log("Received values of form: ",e),e.permission=$,y(!0),w.b.promise(f.b[T?null===j.a||void 0===j.a||null===(a=j.a.api)||void 0===a||null===(t=a.edit)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.method:null===j.a||void 0===j.a||null===(i=j.a.api)||void 0===i||null===(o=i.add)||void 0===o||null===(l=o[0])||void 0===l?void 0:l.method](T?"".concat(null===j.a||void 0===j.a||null===(d=j.a.api)||void 0===d||null===(r=d.edit)||void 0===r?void 0:r[1]).concat(null===_||void 0===_?void 0:_.id):null===j.a||void 0===j.a||null===(c=j.a.api)||void 0===c||null===(s=c.add)||void 0===s?void 0:s[1],e,{headers:{}}),{pending:"Pending",success:{render:function(e){return y(!1),S.push(j.a.routes.index),"\ud83d\udc4c ".concat(e.data.data.message)},icon:"\ud83d\udfe2"},error:{render:function(e){var a,t,n;return y(!1),"\ud83e\udd2f ".concat((null===e||void 0===e||null===(a=e.data)||void 0===a||null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Backend Error Occured")}}})},initialValues:T&&T,scrollToFirstError:!0},m.a.createElement(d.a.Item,{name:"name",label:"name".translate(),rules:[{required:!0,message:"Please input your name!",whitespace:!0}]},m.a.createElement(l.a,null)),m.a.createElement(d.a.Item,{name:"permissions",label:"permissions".translate(),rules:[{required:!($.length>0),message:"Please input your permissions!"}]},m.a.createElement(o.a,{dataSource:L,oneWay:!0,showSearch:!0,listStyle:{width:"100%",height:400},targetKeys:$&&$,onChange:function(e){z(e),console.log(e)},render:function(e){return" - ".concat(e.name.replace("_"," "))}})),m.a.createElement(d.a.Item,null,m.a.createElement("div",{style:{display:"block",marginTop:"1.2rem",textAlign:"center"}},m.a.createElement(b.a,{styles:{padding:".7rem 4rem"},type:"submit"},s&&m.a.createElement(g.a,null),m.a.createElement("span",null," ",(_.id,m.a.createElement(O.a,{id:"global.submit"}))," ")),m.a.createElement(b.a,{type:"button",handleClick:function(){S.push(j.a.routes.index)},styles:x},m.a.createElement(O.a,{id:"global.cancel"}))))))))))))}},650:function(e,a,t){"use strict";var n=t(205);function i(){var e=Object(n.a)(["\n    width: 100%;\n    box-shadow: 0px 2px 6px #0000000A;\n    border-radius: 13px;\n    background: #FFFFFF 0% 0% no-repeat padding-box; \n    padding : 1rem 2rem;\n    height: 100%;\n \n    overflow: hidden ;\n"]);return i=function(){return e},e}var o=t(117).c.div(i());a.a=o},651:function(e,a,t){"use strict";var n=t(205);function i(){var e=Object(n.a)(["\n  padding: 1rem;\n"]);return i=function(){return e},e}var o=t(117).c.div(i());a.a=o},763:function(e,a,t){"use strict";var n,i,o,l,d,r=t(652),c=t(208),s={index:"roles",add:"rolesNew",edit:"rolesEdit",show:"rolesShow"},u={api:{index:[{method:"get",params:{}},"roles"],add:[{method:"post",params:{}},"roles"],edit:[{method:"put",params:{}},"roles/"],show:[{method:"get",params:{}},"roles/"],delete:[{method:"delete",params:{}},"roles/"]},routes:{index:"".concat(c.b,"/").concat(null===(n=r.b[s.index])||void 0===n?void 0:n.path),indexTitle:s.index.replace(/([a-z])([A-Z])/g,"$1 $2"),indexKey:"home",add:"".concat(c.b,"/").concat(null===(i=r.b[s.add])||void 0===i?void 0:i.path),edit:"".concat(c.b,"/").concat(null===(o=r.b[s.edit])||void 0===o?void 0:o.path.slice(0,r.b[s.edit].path.length-3)),show:"".concat(c.b,"/").concat(null===(l=r.b[s.show])||void 0===l?void 0:l.path.slice(0,(null===(d=r.b[s.show])||void 0===d?void 0:d.path.length)-3))},titles:{add:"Create",edit:"global.edit",show:"Details"}};a.a=u}}]);
//# sourceMappingURL=28.d29dcadd.chunk.js.map